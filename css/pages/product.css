/* ===========================================
   Product Page Styles
   =========================================== */

.product-page {
  padding: var(--spacing-xl) var(--spacing-lg);
  max-width: var(--max-width);
  margin: 0 auto;
}

/* Category Tabs */
.product-category-tabs {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: var(--spacing-lg);
  flex-wrap: wrap;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
}
.product-category-tabs .category-btn {
  padding: 0.5rem 1.5rem;
  font-size: 1rem;
  color: #999;
  background: transparent;
  border: 1px solid transparent;
  border-radius: 20px;
  font-weight: 600;
  transition: all 0.3s;
}

.product-category-tabs .category-btn.active {
  border-color: #148636;
  /* Dark border for active */
  color: #148636;
  background: transparent;
}

.product-category-tabs .category-btn.new.active {
  /* If New needs specific style, but image shows plain border style for selected */
  border-color: #148636;
  color: #148636;
}

/* Sub Category to match "ALL" green text */
.product-sub-category {
  display: flex;
  justify-content: center;
  margin-bottom: var(--spacing-xl);
}

.product-sub-category a {
  color: var(--text-gray);
  font-size: 1rem;
  padding: 0.5rem 1rem;
  transition: color var(--transition-normal);
  text-transform: uppercase;
}

.product-sub-category a.active {
  color: var(--primary-green);
  /* Green text for active sub-category */
  font-weight: 600;
}

.product-sub-category a {
  color: var(--text-gray);
  font-size: 0.95rem;
  padding: 0.5rem 1rem;
  transition: color var(--transition-normal);
}

.product-sub-category a:hover,
.product-sub-category a.active {
  color: var(--text-dark);
  font-weight: 500;
}

/* Product Search */
.product-search {
  display: flex;
  justify-content: center;
  margin-bottom: var(--spacing-xl);
}

.product-search-input {
  width: 300px;
  padding: 0.6rem 2.5rem 0.6rem 1rem;
  border: 1px solid var(--border-color);
  border-radius: 0;
  font-size: 0.95rem;
  position: relative;
}

.product-search-wrapper {
  position: relative;
}

.product-search-wrapper .search-icon {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-gray);
}

/* Product Grid for Product Page */
.product-page-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  /* 5 items per row on PC */
  gap: var(--spacing-md);
}

.product-page-card {
  background-color: #fff;
  /* White bg for clean look */
  border: 1px solid #eee;
  border-radius: 12px;
  /* Slightly less rounded */
  overflow: hidden;
  cursor: pointer;
  transition: all var(--transition-normal);
  position: relative;
  display: flex;
  flex-direction: column;
  padding-bottom: 0;
  /* Button is full width at bottom */
}

.product-page-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.product-page-card .product-page-image,
.product-page-card .product-page-info,
.product-page-card .product-page-name,
.product-page-card .product-page-price {
  pointer-events: none;
}

.product-page-image {
  width: 100%;
  aspect-ratio: 1;
  margin: 0;
  background-color: #f9f9f9;
  display: flex;
  align-items: center;
  justify-content: center;
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  border-radius: 16px;
}

.product-page-info {
  padding: 20px 10px;
  text-align: center;
  background-color: transparent;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  border-radius: 0;
  margin: 10px;
}

.product-page-name {
  font-size: 0.9rem;
  /* Smaller font */
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 5px;
  line-height: 1.3;
}

.product-page-price {
  display: block;
  font-size: 1rem;
  font-weight: 700;
  color: #004d40;
  /* Deep Green */
}

.product-page-action {
  margin-top: auto;
  border-top: none;
}

.btn-card-add {
  display: block;
  width: 100%;
  padding: 10px;
  background-color: #f9f9f9;
  border: none;
  color: #333;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background 0.2s;
}

.btn-card-add:hover {
  background-color: #eee;
}

.product-info-text,
.product-ingredients-text,
.btn-add-cart {
  display: none;
}

/* Show details on hover or click? User design just shows "Image" and "Product Name". 
   If functionality like "Add to Cart" is needed, maybe it appears on hover.
   But user just asked for the structure. I will hide extra info for now to match the clean look.
*/

/* Responsive */
@media (max-width: 1200px) {
  .product-page-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media (max-width: 900px) {
  .product-page-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  .product-category-tabs {
    gap: 0.5rem;
  }

  .product-category-tabs .category-btn {
    padding: 0.4rem 0.8rem;
    font-size: 0.85rem;
  }
}

@media (max-width: 600px) {
  .product-page-grid {
    grid-template-columns: repeat(2, 1fr);
    /* 2 items per row on Mobile */
    gap: 10px;
  }
}

/* Product Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  /* Hidden by default! */
  justify-content: center;
  align-items: center;
  z-index: 10000;
  /* High z-index */
}

/* Only show when active */
.modal-overlay.active {
  display: flex;
}

.modal-container {
  background-color: #fff;
  width: 900px;
  max-width: 95%;
  min-height: 700px;
  max-height: 90vh;
  border-radius: 0;
  /* Square/Simple corners as per design or slight radius */
  position: relative;
  padding: 40px;
  overflow-y: auto;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  margin: auto;
  /* Ensure centering in flex container */
}

.modal-close {
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  font-size: 2rem;
  cursor: pointer;
  color: #333;
}

.modal-content {
  display: flex;
  gap: 40px;
}

.modal-image-wrapper {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f9f9f9;
  border-radius: 16px;
  padding: 20px;
  min-height: 350px;
}

.modal-image-wrapper img {
  width: 100%;
  height: 100%;
  max-height: 400px;
  object-fit: contain;
  border-radius: 16px;
}

.modal-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

#modalProductName {
  font-size: 2rem;
  font-weight: 500;
  margin-bottom: 40px;
  text-align: center;
}

.modal-price-section h3 {
  font-size: 1.2rem;
  font-weight: 500;
  margin-bottom: 10px;
}

.modal-divider {
  height: 1px;
  background-color: #ddd;
  margin: 15px 0;
}

.modal-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  font-size: 0.95rem;
  color: #555;
  padding-left: 100px;
  /* Indent values slightly */
}

.modal-row .label {
  position: static;
  width: 120px;
  font-weight: 400;
}

.modal-row .value {
  color: #333;
}

.modal-qty-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 20px 0;
}

.modal-qty-row .label {
  font-size: 1.1rem;
  font-weight: 500;
}

.qty-control {
  display: flex;
  align-items: center;
  border: 1px solid #ddd;
  border-radius: 20px;
  padding: 0 5px;
}

.qty-control button {
  background: none;
  border: none;
  padding: 5px 10px;
  cursor: pointer;
  font-size: 1.1rem;
  color: #888;
}

.qty-control span {
  padding: 0 10px;
  font-weight: 600;
  min-width: 30px;
  text-align: center;
}

.modal-qty-row .price {
  font-weight: 500;
  margin-left: auto;
  padding-left: 20px;
}

.modal-total-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 30px 0;
}

.modal-total-row .label {
  font-size: 1.3rem;
  font-weight: 600;
}

.modal-total-row .total-price {
  font-size: 1.5rem;
  font-weight: 700;
  color: #004d40;
  /* Deep Green */
}

.modal-actions {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

.modal-actions button {
  flex: 1;
  padding: 15px;
  font-size: 1rem;
  font-weight: 600;
  border-radius: 4px;
  /* Slightly rounded or full pills? Image: rounded rects */
  border-radius: 30px;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-buy {
  background-color: rgba(0, 92, 3, 0.1);
  border: none;
  color: #333;
}

.btn-buy:hover {
  background-color: rgba(0, 92, 3, 1);
  color: white;
}

.btn-cart {
  background-color: #fff;
  border: 1px solid #ddd;
  color: #333;
}

.btn-cart:hover {
  border-color: #999;
}

@media (max-width: 768px) {
  .modal-content {
    flex-direction: column;
  }

  #modalProductName {
    text-align: left;
  }
}

/* Modal Slide Styles */
.modal-slide-container {
  position: relative;
  width: 100%;
  min-height: 450px;
}

.modal-slide {
  display: none;
  width: 100%;
  min-height: 450px;
  animation: fadeIn 0.3s ease;
}

.modal-slide.active {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.modal-desc-text {
  margin-top: 0;
  padding: 80px 40px;
  text-align: center;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modal-slide-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 15px;
}

.slide-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ccc;
  cursor: pointer;
  transition: background 0.3s;
}

.slide-dot.active {
  background: #888;
}

.slide-dot:hover {
  background: #888;
  opacity: 0.7;
}

/* Slide Arrows */
.modal-slide-arrow {
  position: absolute;
  top: 45%;
  transform: translateY(-50%);
  background: #ffffff;
  border: 1px solid #e0e0e0;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  z-index: 10;
  transition: all 0.3s ease;
  color: #333;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.modal-slide-arrow:hover {
  background: #888;
  border: 1px solid #888;
  color: #ffffff;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transform: translateY(-50%) scale(1.05);
}

.modal-slide-arrow .material-symbols-outlined {
  font-size: 24px;
}

.modal-slide-prev {
  left: 15px;
}

.modal-slide-next {
  right: 15px;
}

/* Nutrition Info Panel */
.nutrition-info-panel {
  padding: 30px 25px;
  text-align: left;
}

.nutrition-title {
  margin: 20px 0 12px;
  font-size: 1rem;
  font-weight: 600;
  color: #333;
}

.nutrition-title:first-child {
  margin-top: 0;
}

.nutrition-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

.nutrition-item {
  background: #ffffff;
  padding: 14px 18px;
  border-radius: 12px;
  border: 1px solid #e5e5e5;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.85rem;
  color: #333;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  transition: all 0.2s ease;
}

.nutrition-item:hover {
  border-color: #ccc;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.nutrition-item-full {
  display: block;
  white-space: pre-wrap;
  line-height: 1.6;
  background: #ffffff;
  padding: 14px 18px;
  border-radius: 12px;
  border: 1px solid #e5e5e5;
  color: #555;
  font-size: 0.85rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.nut-label {
  font-size: 0.8rem;
  color: #666;
  font-weight: 500;
}

.nut-value {
  font-weight: 700;
  color: #666;
  font-size: 0.85rem;
}
